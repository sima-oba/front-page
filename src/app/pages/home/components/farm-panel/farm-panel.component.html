<div class="container">
    <button mat-icon-button class="button-close" (click)="close()">
        <mat-icon>close</mat-icon>
    </button>

    <section>
        <h3>Limites Municipais</h3>

        <mat-progress-bar
            mode="indeterminate"
            [style.visibility]="(isCitiesLoading$ | async) ? 'visible' : 'hidden'">
        </mat-progress-bar>

        <div class="checkbox-list pl-4 py-3">
            <div class="checkbox-item">
                <mat-checkbox
                    [checked]="isCitiesEnabled$ | async"
                    (change)="setCitiesEnabled($event.checked)">
                    Exibir/ocultar
                </mat-checkbox>
            </div>
        </div>
    </section>

    <section style="flex-grow: 1;">
        <h3 style="display: flex; justify-content: space-between; align-items: center; padding-top: 0.5rem; padding-bottom: 0.5rem;">
            <span>Propriedades</span>
            
            <button mat-icon-button title="Download" (click)="downloadFarms()">
                <mat-icon>download</mat-icon>
            </button>
        </h3>

        <mat-progress-bar
            mode="indeterminate"
            [style.visibility]="(isFarmsLoading$ | async) ? 'visible' : 'hidden'">
        </mat-progress-bar>

        <div class="checkbox-list pl-4 pt-3" style="flex-grow: 1;">
            <app-multi-select
                placeholder="Buscar propriedade"
                [items]="farms$ | async"
                (selectedItems)="selectFarms($event)"
                (lastSelectedItem)="moveToFarm($event)">
            </app-multi-select>
        </div>
    </section>
</div>